!function(t){function i(i,e){var o=i.plugins.highlighter,r=i.series[e.seriesIndex],s=r.markerRenderer,l=o.markerRenderer;l.style=s.style,l.lineWidth=s.lineWidth+o.lineWidthAdjust,l.size=s.size+o.sizeAdjust;var h=t.jqplot.getColorComponents(s.color),n=[h[0],h[1],h[2]],a=h[3]>=.6?.6*h[3]:h[3]*(2-h[3]);l.color="rgba("+n[0]+","+n[1]+","+n[2]+","+a+")",l.init(),l.draw(r.gridData[e.pointIndex][0],r.gridData[e.pointIndex][1],o.highlightCanvas._ctx)}function e(i,e,o){var n=i.plugins.highlighter,a=n._tooltipElem,g=e.highlighter||{},p=t.extend(!0,{},n,g);if(p.useAxesFormatters){for(var d,f=e._xaxis._ticks[0].formatter,u=e._yaxis._ticks[0].formatter,c=e._xaxis._ticks[0].formatString,v=e._yaxis._ticks[0].formatString,x=f(c,o.data[0]),m=[],j=1;j<p.yvalues+1;j++)m.push(u(v,o.data[j]));if("string"==typeof p.formatString)switch(p.tooltipAxes){case"both":case"xy":m.unshift(x),m.unshift(p.formatString),d=t.jqplot.sprintf.apply(t.jqplot.sprintf,m);break;case"yx":m.push(x),m.unshift(p.formatString),d=t.jqplot.sprintf.apply(t.jqplot.sprintf,m);break;case"x":d=t.jqplot.sprintf.apply(t.jqplot.sprintf,[p.formatString,x]);break;case"y":m.unshift(p.formatString),d=t.jqplot.sprintf.apply(t.jqplot.sprintf,m);break;default:m.unshift(x),m.unshift(p.formatString),d=t.jqplot.sprintf.apply(t.jqplot.sprintf,m)}else switch(p.tooltipAxes){case"both":case"xy":d=x;for(var j=0;j<m.length;j++)d+=p.tooltipSeparator+m[j];break;case"yx":d="";for(var j=0;j<m.length;j++)d+=m[j]+p.tooltipSeparator;d+=x;break;case"x":d=x;break;case"y":d=m.join(p.tooltipSeparator);break;default:d=x;for(var j=0;j<m.length;j++)d+=p.tooltipSeparator+m[j]}}else{var d;"string"==typeof p.formatString?d=t.jqplot.sprintf.apply(t.jqplot.sprintf,[p.formatString].concat(o.data)):"both"==p.tooltipAxes||"xy"==p.tooltipAxes?d=t.jqplot.sprintf(p.tooltipFormatString,o.data[0])+p.tooltipSeparator+t.jqplot.sprintf(p.tooltipFormatString,o.data[1]):"yx"==p.tooltipAxes?d=t.jqplot.sprintf(p.tooltipFormatString,o.data[1])+p.tooltipSeparator+t.jqplot.sprintf(p.tooltipFormatString,o.data[0]):"x"==p.tooltipAxes?d=t.jqplot.sprintf(p.tooltipFormatString,o.data[0]):"y"==p.tooltipAxes&&(d=t.jqplot.sprintf(p.tooltipFormatString,o.data[1]))}t.isFunction(p.tooltipContentEditor)&&(d=p.tooltipContentEditor(d,o.seriesIndex,o.pointIndex,i)),a.html(d);var _={x:o.gridData[0],y:o.gridData[1]},w=0,q=.707;1==e.markerRenderer.show&&(w=(e.markerRenderer.size+p.sizeAdjust)/2);var y=r,S=y[s[p.tooltipLocation]];switch(_.x<i._width/2&&-1!==S.indexOf("w")?y=h:_.x>i._width/2&&-1!==S.indexOf("e")?y=h:e.fillToZero&&e.fill&&o.data[1]<0&&(y=l),y[s[p.tooltipLocation]]){case"nw":var b=_.x+i._gridPadding.left-a.outerWidth(!0)-p.tooltipOffset-q*w,k=_.y+i._gridPadding.top-p.tooltipOffset-a.outerHeight(!0)-q*w;break;case"n":var b=_.x+i._gridPadding.left-a.outerWidth(!0)/2,k=_.y+i._gridPadding.top-p.tooltipOffset-a.outerHeight(!0)-w;break;case"ne":var b=_.x+i._gridPadding.left+p.tooltipOffset+q*w,k=_.y+i._gridPadding.top-p.tooltipOffset-a.outerHeight(!0)-q*w;break;case"e":var b=_.x+i._gridPadding.left+p.tooltipOffset+w,k=_.y+i._gridPadding.top-a.outerHeight(!0)/2;break;case"se":var b=_.x+i._gridPadding.left+p.tooltipOffset+q*w,k=_.y+i._gridPadding.top+p.tooltipOffset+q*w;break;case"s":var b=_.x+i._gridPadding.left-a.outerWidth(!0)/2,k=_.y+i._gridPadding.top+p.tooltipOffset+w;break;case"sw":var b=_.x+i._gridPadding.left-a.outerWidth(!0)-p.tooltipOffset-q*w,k=_.y+i._gridPadding.top+p.tooltipOffset+q*w;break;case"w":var b=_.x+i._gridPadding.left-a.outerWidth(!0)-p.tooltipOffset-w,k=_.y+i._gridPadding.top-a.outerHeight(!0)/2;break;default:var b=_.x+i._gridPadding.left-a.outerWidth(!0)-p.tooltipOffset-q*w,k=_.y+i._gridPadding.top-p.tooltipOffset-a.outerHeight(!0)-q*w}a.css("left",b),a.css("top",k),p.fadeTooltip?a.stop(!0,!0).fadeIn(p.tooltipFadeSpeed):a.show(),a=null}function o(t,o,r,s,l){var h=l.plugins.highlighter,n=l.plugins.cursor;if(h.show)if(null==s&&h.isHighlighting){var a=jQuery.Event("jqplotHighlighterUnhighlight");l.target.trigger(a);var g=h.highlightCanvas._ctx;g.clearRect(0,0,g.canvas.width,g.canvas.height),h.fadeTooltip?h._tooltipElem.fadeOut(h.tooltipFadeSpeed):h._tooltipElem.hide(),h.bringSeriesToFront&&l.restorePreviousSeriesOrder(),h.isHighlighting=!1,h.currentNeighbor=null,g=null}else if(null!=s&&l.series[s.seriesIndex].showHighlight&&!h.isHighlighting){var a=jQuery.Event("jqplotHighlighterHighlight");a.which=t.which,a.pageX=t.pageX,a.pageY=t.pageY;var p=[s.seriesIndex,s.pointIndex,s.data,l];l.target.trigger(a,p),h.isHighlighting=!0,h.currentNeighbor=s,h.showMarker&&i(l,s),!h.showTooltip||n&&n._zoom.started||e(l,l.series[s.seriesIndex],s),h.bringSeriesToFront&&l.moveSeriesToFront(s.seriesIndex)}else if(null!=s&&h.isHighlighting&&h.currentNeighbor!=s&&l.series[s.seriesIndex].showHighlight){var g=h.highlightCanvas._ctx;g.clearRect(0,0,g.canvas.width,g.canvas.height),h.isHighlighting=!0,h.currentNeighbor=s,h.showMarker&&i(l,s),!h.showTooltip||n&&n._zoom.started||e(l,l.series[s.seriesIndex],s),h.bringSeriesToFront&&l.moveSeriesToFront(s.seriesIndex)}}t.jqplot.eventListenerHooks.push(["jqplotMouseMove",o]),t.jqplot.Highlighter=function(i){this.show=t.jqplot.config.enablePlugins,this.markerRenderer=new t.jqplot.MarkerRenderer({shadow:!1}),this.showMarker=!0,this.lineWidthAdjust=2.5,this.sizeAdjust=5,this.showTooltip=!0,this.tooltipLocation="nw",this.fadeTooltip=!0,this.tooltipFadeSpeed="fast",this.tooltipOffset=2,this.tooltipAxes="both",this.tooltipSeparator=", ",this.tooltipContentEditor=null,this.useAxesFormatters=!0,this.tooltipFormatString="%.5P",this.formatString=null,this.yvalues=1,this.bringSeriesToFront=!1,this._tooltipElem,this.isHighlighting=!1,this.currentNeighbor=null,t.extend(!0,this,i)};var r=["nw","n","ne","e","se","s","sw","w"],s={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},l=["se","s","sw","w","nw","n","ne","e"],h=["ne","n","nw","w","sw","s","se","e"];t.jqplot.Highlighter.init=function(i,e,o){var r=o||{};this.plugins.highlighter=new t.jqplot.Highlighter(r.highlighter)},t.jqplot.Highlighter.parseOptions=function(){this.showHighlight=!0},t.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null),this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null),this.plugins.highlighter.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this)),this.plugins.highlighter.highlightCanvas.setContext();var i=document.createElement("div");this.plugins.highlighter._tooltipElem=t(i),i=null,this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip"),this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)},t.jqplot.preInitHooks.push(t.jqplot.Highlighter.init),t.jqplot.preParseSeriesOptionsHooks.push(t.jqplot.Highlighter.parseOptions),t.jqplot.postDrawHooks.push(t.jqplot.Highlighter.postPlotDraw)}(jQuery);